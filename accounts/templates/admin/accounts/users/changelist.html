{% extends "admin/change_list.html" %}
{% load static %}

{% block extrastyle %}
<link rel="stylesheet" href="{% static 'admin_custom.css' %}">
{% endblock %}

{% block content_title %}
<h1 class="title-custom">Quáº£n lÃ½ khÃ¡ch hÃ ng</h1>
{% endblock %}

{% block search %}
<div class="search-wrapper">
    <form method="get">
        <input type="text" name="q" class="search-input" placeholder="TÃ¬m kiáº¿m theo tÃªn, email hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i..." value="{{ request.GET.q }}">
        <button class="search-btn">TÃ¬m kiáº¿m</button>
    </form>
</div>
{% endblock %}

{% block result_list %}
<table class="customer-table">
    <thead>
        <tr>
            <th>KhÃ¡ch hÃ ng</th>
            <th>LiÃªn há»‡</th>
            <th>Sá»‘ láº§n Ä‘áº·t</th>
            <th>Láº§n Ä‘áº·t cuá»‘i</th>
            <th>Tráº¡ng thÃ¡i</th>
            <th style="text-align:center;">Thao tÃ¡c</th>
        </tr>
    </thead>

    <tbody>
        {% for user in cl.result_list %}
        <tr>
            <td class="user-cell">
                <div class="avatar">{{ user.first_name|first|upper }}</div>
                <div class="user-info">
                    <strong>{{ user.get_full_name }}</strong>
                </div>
            </td>

            <td class="contact-cell">
                <div class="email">{{ user.email }}</div>
                <div class="phone">{{ user.phone_number }}</div>
            </td>

            <td class="count-cell">
                <span class="count">{{ user.total_bookings }} láº§n</span>
            </td>

            <td>
                <span class="date">{{ user.last_booking }}</span>
            </td>

            <td>
                {% if user.is_active %}
                <span class="badge active">Äang hoáº¡t Ä‘á»™ng</span>
                {% else %}
                <span class="badge inactive">KhÃ´ng hoáº¡t Ä‘á»™ng</span>
                {% endif %}
            </td>

            <td class="action-cell">
                <a href="{{ user.id }}/change/" class="edit-btn">âœï¸</a>
                <a href="{{ user.id }}/delete/" class="delete-btn">ğŸ—‘</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}